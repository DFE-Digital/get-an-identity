@page "/update-name"
@model TeacherIdentity.AuthServer.Pages.Authenticated.UpdateNameModel
@{
    ViewBag.Title = "Update your preferred name";

    var safeCancelUrl = !string.IsNullOrEmpty(Model.CancelUrl) && Url.IsLocalUrl(Model.CancelUrl) ?
        Model.CancelUrl :
        "/";
}

@section BeforeContent {
    <govuk-back-link href="@safeCancelUrl" />
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds-from-desktop">
        <form action="@LinkGenerator.UpdateName(Model.ReturnUrl, Model.CancelUrl)" method="post" asp-antiforgery="true">
            <h1 class="govuk-heading-xl">@ViewBag.Title</h1>

            <p>We can use a different name in correspondence, and tell people what you prefer to be called.</p>

            <govuk-input asp-for="FirstName" input-class="govuk-label--s" />

            <govuk-input asp-for="LastName" input-class="govuk-label--s" />

            <div class="govuk-button-group">
                <govuk-button type="submit" prevent-double-click="true">Continue</govuk-button>
                <govuk-button-link href="@safeCancelUrl" class="govuk-button--secondary">Cancel changes</govuk-button-link>
            </div>
        </form>
    </div>
</div>
